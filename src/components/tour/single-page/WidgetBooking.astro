---
import type { WidgetBookingProps as Props } from "~/types";
import TourPriceCalculator from "~/components/forms/TourPriceCalculator.astro";
import QuickBookingInquiry from "~/components/forms/QuickBookingInquiry.astro";

const { price, tourTitle, tour } = Astro.props;
---

<div
  id="booking-calculator"
  class="grid grid-cols-1 lg:grid-cols-3 pb-12 order-2 print:hidden"
>
  <h2 class="h6 tour-icon tour-icon-booking">Plan Your Adventure</h2>

  <div class="lg:col-span-2 space-y-6 max-lg:mt-8">
    {/* Price Calculator Widget */}
    <div
      class="px-4 lg:px-8 py-6 bg-gray-50 rounded-lg shadow-md border border-gray-200"
    >
      <h3
        class="text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2"
      >
        <span>üßÆ</span>
        Calculate Your Tour Price
      </h3>
      {tour && <TourPriceCalculator tour={tour} />}
    </div>

    {/* Quick Booking Options */}
    <QuickBookingInquiry
      tourTitle={tourTitle}
      tourCode={tour?.data.misc?.tourCode}
      price={price}
    />

    {/* Trust Indicators */}
    <div class="bg-white rounded-lg border border-gray-200 p-4">
      <div class="grid grid-cols-2 lg:grid-cols-4 gap-4 text-center">
        <div>
          <div class="text-2xl mb-1">üõ°Ô∏è</div>
          <div class="text-xs font-medium text-gray-700">Safe & Secure</div>
        </div>
        <div>
          <div class="text-2xl mb-1">‚≠ê</div>
          <div class="text-xs font-medium text-gray-700">4.9/5 Rating</div>
        </div>
        <div>
          <div class="text-2xl mb-1">üéØ</div>
          <div class="text-xs font-medium text-gray-700">Local Experts</div>
        </div>
        <div>
          <div class="text-2xl mb-1">üíé</div>
          <div class="text-xs font-medium text-gray-700">Premium Quality</div>
        </div>
      </div>
    </div>
  </div>
</div>
